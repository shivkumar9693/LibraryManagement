{"ast":null,"code":"import axios from \"axios\";\n\n/**\n * Axios instance\n * Base URL comes from .env\n */\nconst API = axios.create({\n  baseURL: process.env.REACT_APP_API_BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n/**\n * LOGIN\n * This is only for validating credentials & fetching role\n * Actual authentication for protected APIs uses Basic Auth header\n */\nexport const loginUser = async (email, password) => {\n  try {\n    const response = await API.post(\"/api/auth/login\", {\n      email,\n      password\n    });\n    return response.data; // { success, message, role, userId }\n  } catch (error) {\n    var _error$response, _error$response$data;\n    return {\n      success: false,\n      message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Unable to login. Server error.\",\n      role: null\n    };\n  }\n};\n\n/**\n * SIGNUP\n */\nexport const signupUser = async userData => {\n  try {\n    const response = await API.post(\"/api/auth/signup\", userData);\n    return response.data;\n  } catch (error) {\n    var _error$response2;\n    throw ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || \"Signup failed\";\n  }\n};\nexport default API;","map":{"version":3,"names":["axios","API","create","baseURL","process","env","REACT_APP_API_BASE_URL","headers","loginUser","email","password","response","post","data","error","_error$response","_error$response$data","success","message","role","signupUser","userData","_error$response2"],"sources":["C:/Users/hp/OneDrive/Desktop/LibraryManagement-main/frontend/src/api/auth.js"],"sourcesContent":["import axios from \"axios\";\n\n/**\n * Axios instance\n * Base URL comes from .env\n */\nconst API = axios.create({\n    baseURL: process.env.REACT_APP_API_BASE_URL,\n    headers: {\n        \"Content-Type\": \"application/json\",\n    },\n});\n\n/**\n * LOGIN\n * This is only for validating credentials & fetching role\n * Actual authentication for protected APIs uses Basic Auth header\n */\nexport const loginUser = async (email, password) => {\n    try {\n        const response = await API.post(\"/api/auth/login\", {\n            email,\n            password,\n        });\n        return response.data; // { success, message, role, userId }\n    } catch (error) {\n        return {\n            success: false,\n            message:\n                error.response?.data?.message ||\n                \"Unable to login. Server error.\",\n            role: null,\n        };\n    }\n};\n\n/**\n * SIGNUP\n */\nexport const signupUser = async (userData) => {\n    try {\n        const response = await API.post(\"/api/auth/signup\", userData);\n        return response.data;\n    } catch (error) {\n        throw error.response?.data || \"Signup failed\";\n    }\n};\n\nexport default API;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACrBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,sBAAsB;EAC3CC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAChD,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,iBAAiB,EAAE;MAC/CH,KAAK;MACLC;IACJ,CAAC,CAAC;IACF,OAAOC,QAAQ,CAACE,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACZ,OAAO;MACHC,OAAO,EAAE,KAAK;MACdC,OAAO,EACH,EAAAH,eAAA,GAAAD,KAAK,CAACH,QAAQ,cAAAI,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,cAAAG,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAC7B,gCAAgC;MACpCC,IAAI,EAAE;IACV,CAAC;EACL;AACJ,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMC,UAAU,GAAG,MAAOC,QAAQ,IAAK;EAC1C,IAAI;IACA,MAAMV,QAAQ,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,kBAAkB,EAAES,QAAQ,CAAC;IAC7D,OAAOV,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAQ,gBAAA;IACZ,MAAM,EAAAA,gBAAA,GAAAR,KAAK,CAACH,QAAQ,cAAAW,gBAAA,uBAAdA,gBAAA,CAAgBT,IAAI,KAAI,eAAe;EACjD;AACJ,CAAC;AAED,eAAeZ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}