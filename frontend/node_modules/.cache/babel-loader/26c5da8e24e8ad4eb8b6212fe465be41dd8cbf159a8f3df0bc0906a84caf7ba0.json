{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Keshav Anand\\\\Desktop\\\\LibraryManagement-main\\\\frontend\\\\src\\\\pages\\\\user\\\\BookList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { getAllBooks } from \"../../api/books\";\nimport BookCard from \"../../components/BookCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookList = () => {\n  _s();\n  const {\n    user,\n    authHeader\n  } = useAuth();\n  const navigate = useNavigate();\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchBooks();\n  }, [user, authHeader]);\n  const fetchBooks = async () => {\n    if (!user || !authHeader) {\n      setLoading(false);\n      return;\n    }\n    try {\n      const base64Credentials = authHeader.replace(\"Basic \", \"\");\n      const credentials = atob(base64Credentials);\n      const [email, password] = credentials.split(\":\");\n      const data = await getAllBooks(email, password);\n      setBooks(data);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRead = bookId => {\n    navigate(`/books/${bookId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.grid,\n    children: books.map(book => /*#__PURE__*/_jsxDEV(BookCard, {\n      book: book,\n      readOnly: true\n    }, book.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(BookList, \"9cJd5lMRK5MMIZC6hXq7ihhqbWE=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = BookList;\nconst styles = {\n  grid: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(auto-fill, minmax(280px, 1fr))\",\n    gap: \"20px\"\n  }\n};\nexport default BookList;\nvar _c;\n$RefreshReg$(_c, \"BookList\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useAuth","getAllBooks","BookCard","jsxDEV","_jsxDEV","BookList","_s","user","authHeader","navigate","books","setBooks","loading","setLoading","fetchBooks","base64Credentials","replace","credentials","atob","email","password","split","data","err","console","error","handleRead","bookId","style","styles","grid","children","map","book","readOnly","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","display","gridTemplateColumns","gap","$RefreshReg$"],"sources":["C:/Users/Keshav Anand/Desktop/LibraryManagement-main/frontend/src/pages/user/BookList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { getAllBooks } from \"../../api/books\";\nimport BookCard from \"../../components/BookCard\";\n\nconst BookList = () => {\n    const { user, authHeader } = useAuth();\n    const navigate = useNavigate();\n    const [books, setBooks] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        fetchBooks();\n    }, [user, authHeader]);\n\n    const fetchBooks = async () => {\n        if (!user || !authHeader) {\n            setLoading(false);\n            return;\n        }\n\n        try {\n            const base64Credentials = authHeader.replace(\"Basic \", \"\");\n            const credentials = atob(base64Credentials);\n            const [email, password] = credentials.split(\":\");\n\n            const data = await getAllBooks(email, password);\n            setBooks(data);\n        } catch (err) {\n            console.error(err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleRead = (bookId) => {\n        navigate(`/books/${bookId}`);\n    };\n\n    return (\n        <div style={styles.grid}>\n            {books.map((book) => (\n                <BookCard key={book.id} book={book} readOnly />\n            ))}\n        </div>\n    );\n};\n\nconst styles = {\n    grid: {\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(auto-fill, minmax(280px, 1fr))\",\n        gap: \"20px\",\n    },\n};\n\nexport default BookList;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,2BAA2B;AACnD,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,OAAOC,QAAQ,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM;IAAEC,IAAI;IAAEC;EAAW,CAAC,GAAGR,OAAO,CAAC,CAAC;EACtC,MAAMS,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACZiB,UAAU,CAAC,CAAC;EAChB,CAAC,EAAE,CAACP,IAAI,EAAEC,UAAU,CAAC,CAAC;EAEtB,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI,CAACP,IAAI,IAAI,CAACC,UAAU,EAAE;MACtBK,UAAU,CAAC,KAAK,CAAC;MACjB;IACJ;IAEA,IAAI;MACA,MAAME,iBAAiB,GAAGP,UAAU,CAACQ,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;MAC1D,MAAMC,WAAW,GAAGC,IAAI,CAACH,iBAAiB,CAAC;MAC3C,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGH,WAAW,CAACI,KAAK,CAAC,GAAG,CAAC;MAEhD,MAAMC,IAAI,GAAG,MAAMrB,WAAW,CAACkB,KAAK,EAAEC,QAAQ,CAAC;MAC/CT,QAAQ,CAACW,IAAI,CAAC;IAClB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACtB,CAAC,SAAS;MACNV,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAED,MAAMa,UAAU,GAAIC,MAAM,IAAK;IAC3BlB,QAAQ,CAAC,UAAUkB,MAAM,EAAE,CAAC;EAChC,CAAC;EAED,oBACIvB,OAAA;IAAKwB,KAAK,EAAEC,MAAM,CAACC,IAAK;IAAAC,QAAA,EACnBrB,KAAK,CAACsB,GAAG,CAAEC,IAAI,iBACZ7B,OAAA,CAACF,QAAQ;MAAe+B,IAAI,EAAEA,IAAK;MAACC,QAAQ;IAAA,GAA7BD,IAAI,CAACE,EAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAwB,CACjD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC;AAACjC,EAAA,CAzCID,QAAQ;EAAA,QACmBL,OAAO,EACnBD,WAAW;AAAA;AAAAyC,EAAA,GAF1BnC,QAAQ;AA2Cd,MAAMwB,MAAM,GAAG;EACXC,IAAI,EAAE;IACFW,OAAO,EAAE,MAAM;IACfC,mBAAmB,EAAE,uCAAuC;IAC5DC,GAAG,EAAE;EACT;AACJ,CAAC;AAED,eAAetC,QAAQ;AAAC,IAAAmC,EAAA;AAAAI,YAAA,CAAAJ,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}