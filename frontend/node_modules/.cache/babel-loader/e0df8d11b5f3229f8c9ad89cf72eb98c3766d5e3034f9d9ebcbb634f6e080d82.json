{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Keshav Anand\\\\Desktop\\\\LibraryManagement-main\\\\frontend\\\\src\\\\pages\\\\user\\\\BookList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { getAllBooks } from \"../../api/books\";\nimport BookCard from \"../../components/BookCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookList = () => {\n  _s();\n  const {\n    user,\n    authHeader\n  } = useAuth();\n  const navigate = useNavigate();\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchBooks();\n  }, [user, authHeader]);\n  const fetchBooks = async () => {\n    if (!user || !authHeader) {\n      setLoading(false);\n      return;\n    }\n    try {\n      const base64Credentials = authHeader.replace(\"Basic \", \"\");\n      const credentials = atob(base64Credentials);\n      const [email, password] = credentials.split(\":\");\n      const data = await getAllBooks(email, password);\n      setBooks(data);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRead = bookId => {\n    navigate(`/books/${bookId}`);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.loading,\n      children: \"Loading books...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.grid,\n    children: books.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.empty,\n      children: \"No books available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this) : books.map(book => /*#__PURE__*/_jsxDEV(BookCard, {\n      book: book,\n      onRead: handleRead\n    }, book.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(BookList, \"9cJd5lMRK5MMIZC6hXq7ihhqbWE=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = BookList;\nconst styles = {\n  grid: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(auto-fill, minmax(280px, 1fr))\",\n    gap: \"20px\"\n  },\n  loading: {\n    textAlign: \"center\",\n    padding: \"40px\",\n    fontSize: \"18px\"\n  },\n  empty: {\n    textAlign: \"center\",\n    padding: \"40px\",\n    fontSize: \"18px\",\n    color: \"#6b7280\"\n  }\n};\nexport default BookList;\nvar _c;\n$RefreshReg$(_c, \"BookList\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useAuth","getAllBooks","BookCard","jsxDEV","_jsxDEV","BookList","_s","user","authHeader","navigate","books","setBooks","loading","setLoading","fetchBooks","base64Credentials","replace","credentials","atob","email","password","split","data","err","console","error","handleRead","bookId","style","styles","children","fileName","_jsxFileName","lineNumber","columnNumber","grid","length","empty","map","book","onRead","id","_c","display","gridTemplateColumns","gap","textAlign","padding","fontSize","color","$RefreshReg$"],"sources":["C:/Users/Keshav Anand/Desktop/LibraryManagement-main/frontend/src/pages/user/BookList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { getAllBooks } from \"../../api/books\";\nimport BookCard from \"../../components/BookCard\";\n\nconst BookList = () => {\n    const { user, authHeader } = useAuth();\n    const navigate = useNavigate();\n    const [books, setBooks] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        fetchBooks();\n    }, [user, authHeader]);\n\n    const fetchBooks = async () => {\n        if (!user || !authHeader) {\n            setLoading(false);\n            return;\n        }\n\n        try {\n            const base64Credentials = authHeader.replace(\"Basic \", \"\");\n            const credentials = atob(base64Credentials);\n            const [email, password] = credentials.split(\":\");\n\n            const data = await getAllBooks(email, password);\n            setBooks(data);\n        } catch (err) {\n            console.error(err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleRead = (bookId) => {\n        navigate(`/books/${bookId}`);\n    };\n\n    if (loading) {\n        return <div style={styles.loading}>Loading books...</div>;\n    }\n\n    return (\n        <div style={styles.grid}>\n            {books.length === 0 ? (\n                <div style={styles.empty}>No books available</div>\n            ) : (\n                books.map((book) => (\n                    <BookCard\n                        key={book.id}\n                        book={book}\n                        onRead={handleRead}\n                    />\n                ))\n            )}\n        </div>\n    );\n};\n\nconst styles = {\n    grid: {\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(auto-fill, minmax(280px, 1fr))\",\n        gap: \"20px\",\n    },\n    loading: {\n        textAlign: \"center\",\n        padding: \"40px\",\n        fontSize: \"18px\",\n    },\n    empty: {\n        textAlign: \"center\",\n        padding: \"40px\",\n        fontSize: \"18px\",\n        color: \"#6b7280\",\n    },\n};\n\nexport default BookList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}